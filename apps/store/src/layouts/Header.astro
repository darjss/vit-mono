---
import Search from "@/icons/search.astro";
import ShoppingCart from "@/icons/shopping-cart.astro";
import astroLogo from "../assets/astro.svg";

import CartCount from "@/components/cart-count";


---

<header class="sticky top-0 z-50 bg-background/95 backdrop-blur-md border-b-4 border-border">
  <div class="container mx-auto flex items-center justify-between px-4 py-3">
    <a
      href="/"
      class="group flex items-center gap-2 md:gap-3 transition-all duration-200 hover:opacity-90"
    >
      <div class="relative overflow-hidden rounded-full border-2 border-border p-1 shadow-[var(--shadow)] transform transition-transform group-hover:translate-x-1 group-hover:translate-y-1 group-hover:shadow-none">
        <img src={astroLogo.src} alt="Store Logo" class="h-8 w-auto" />
      </div>
      <div class="flex flex-col md:flex-row md:items-end gap-0 md:gap-1.5">
        <h1 class="text-xl md:text-2xl font-[var(--heading-font-weight)] tracking-tight text-foreground leading-tight">Vit</h1>
        <span class="text-xs md:text-sm text-foreground/70 font-medium">Витамин</span>
      </div>
    </a>

    <div class="flex items-center gap-1 md:gap-3">
      <button
        aria-label="Search"
        class="relative p-2 md:p-2.5 rounded-full text-foreground/70 hover:text-primary transition-colors hover:bg-primary/10 active:scale-95"
      >
        <span class="absolute inset-0 rounded-full bg-background/50 opacity-0 transition-opacity hover:opacity-100"></span>
        <Search class="w-5 h-5 md:w-[22px] md:h-[22px]" />
      </button>
      
      <a
        href="/cart"
        aria-label="Shopping Cart"
        class="relative p-2 md:p-2.5 rounded-full text-foreground/70 hover:text-primary transition-colors hover:bg-primary/10 active:scale-95 ml-1"
      >
        <span class="absolute inset-0 rounded-full bg-background/50 opacity-0 transition-opacity hover:opacity-100"></span>
        <ShoppingCart class="w-5 h-5 md:w-[22px] md:h-[22px]" />
        <CartCount client:only />
      </a>
    </div>
  </div>
</header>

<style>
  header {
    -webkit-backdrop-filter: blur(12px);
    animation: headerIn 0.5s ease-out;
  }
  
  @keyframes headerIn {
    from { 
      transform: translateY(-100%);
      opacity: 0;
    }
    to { 
      transform: translateY(0);
      opacity: 1;
    }
  }
</style>
